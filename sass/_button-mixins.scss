/* Copyright: Ankitects Pty Ltd and contributors
 * License: GNU AGPL, version 3 or later; http://www.gnu.org/licenses/agpl.html */
@use "vars";
@use "sass:color";
@use "elevation" as shadow;

@import "bootstrap/scss/functions";
@import "bootstrap/scss/variables";

@mixin base(
    $selector: button,
    $with-hover: true,
    $with-active: true,
    $with-disabled: true
) {
    color: var(--fg);
    background: linear-gradient(
        180deg,
        var(--button-gradient-start) 0%,
        var(--button-gradient-end) 100%
    );

    border: none;
    appearance: none;
}

/**
 * This is the style that is applied to the button is `active`. This usually means
 * that the button is pressed down, or its supposed effect is already applied.
 *
 * @example A bold button should be styled active, if the selection is already bold
 */
@mixin active(
    $selector: null
) {
    &:active {
        @include shadow.inset;
    }

    @if ($selector) {
        &#{$selector} {
            @include shadow.inset;
        }

        // If you press the bold button in a bold selection, you want the visual effect reversed
        &#{$selector}:active {
            @include shadow.reset;
        }
    }
}

/**
 * The style applied on hover.
 */
@mixin hover(
    $selector: null
) {
    &:hover {
        background: linear-gradient(
            180deg,
            var(--button-hover-gradient-start) 0%,
            var(--button-hover-gradient-end) 100%
        );
    }

    @if ($selector) {
        &#{selector} {
            background: linear-gradient(
                180deg,
                var(--button-hover-gradient-start) 0%,
                var(--button-hover-gradient-end) 100%
            );
        }
    }
}

/**
 * The style applied on disabled.
 */
@mixin disabled(
    $selector: null
) {
    &[disabled] {
        color: var(--fg-disabled);
        background-color: var(--button-disabled);
    }

    @if ($selector) {
        &#{selector} {
            color: var(--fg-disabled);
            background-color: var(--button-disabled);
        }
    }
}

@function down-arrow($color) {
    @return url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='transparent' stroke='#{$color}' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
}
